---
layout: compress
---

{% include base_path %}
<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js" data-theme="light">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
 
 
 <script src="{{ '/assets/js/comet-trail.js' | relative_url }}"></script> 
    
<script src="{{ '/assets/js/dark-mode.js' | relative_url }}"></script>

    
  </head>

  <body>

 

<button id="theme-toggle" title="切换暗夜/日间模式"
  style="position: fixed; top: 10px; right: 10px; z-index: 1000;
         background: none; border: none; font-size: 1.5rem; cursor: pointer;">
  <span id="theme-icon">🌙</span>
</button>


    

    
    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}









    
<script>
  (function () {
    const html = document.documentElement;
    const toggle = document.getElementById("theme-toggle");
    const icon = document.getElementById("theme-icon");

    function applyTheme(mode) {
      html.setAttribute("data-theme", mode);
      localStorage.setItem("theme", mode);
      icon.textContent = mode === "dark" ? "☀️" : "🌙";
    }

    document.addEventListener("DOMContentLoaded", () => {
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme) {
        applyTheme(savedTheme);
      } else {
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        applyTheme(prefersDark ? "dark" : "light");
      }
    });

    if (toggle) {
      toggle.addEventListener("click", () => {
        const current = html.getAttribute("data-theme");
        const next = current === "dark" ? "light" : "dark";
        applyTheme(next);
      });
    }
  })();
</script>




    


    
    
  </body>
</html>
