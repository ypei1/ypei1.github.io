---
layout: compress
---

{% include base_path %}
<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js" data-theme="light">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
 
 
 <script src="{{ '/assets/js/comet-trail.js' | relative_url }}"></script> 
    
<script src="{{ '/assets/js/dark-mode.js' | relative_url }}"></script>

    
  </head>

  <body>


<button id="theme-toggle" title="切换暗夜/日间模式"
  style="position: fixed; top: 10px; right: 10px; z-index: 1000;
         background: none; border: none; font-size: 1.5rem; cursor: pointer;">
  <span id="theme-icon">🌙</span>
</button>




    

    
    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}









    
<script>
  const toggle = document.getElementById("theme-toggle");
  const html = document.documentElement;

  // 点击按钮切换模式
  toggle.addEventListener("click", () => {
    const current = html.getAttribute("data-theme");
    const newTheme = current === "dark" ? "light" : "dark";
    html.setAttribute("data-theme", newTheme);
    localStorage.setItem("theme", newTheme);
  });

  // 页面加载时自动检测并应用主题
  document.addEventListener("DOMContentLoaded", () => {
    const saved = localStorage.getItem("theme");
    if (saved) {
      html.setAttribute("data-theme", saved);
    } else {
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      html.setAttribute("data-theme", prefersDark ? "dark" : "light");
    }
  });
</script>




    


    
    
  </body>
</html>
